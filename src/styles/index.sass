@use 'variables'

// Mixins
@mixin flexCenter($direction: row)
	display: flex
	flex-direction: $direction
	justify-content: center
	align-items: center

:root
	font-family: variables.$baseFontFamily
	font-size: variables.$baseFontSize
	line-height: 1.5
	font-weight: variables.$regularFontWeight

	color: variables.$white
	background-color: variables.$blackAlmost

	font-synthesis: none
	text-rendering: optimizeLegibility
	-webkit-font-smoothing: antialiased
	-moz-osx-font-smoothing: grayscale

body
	margin: 0

#root
	display: flex
	flex-direction: column
	flex: 1
	min-width: 100%
	min-height: 100vh

.top
	display: flex
	flex-direction: row
	justify-content: start
	align-items: center
	padding: 10px
	background: variables.$greyBlueDark
	color: variables.$greyLightText
	border-bottom: 1px solid variables.$greyLight

	.top-panel
		margin: 0 16px

.bottom
	display: flex
	justify-content: space-between
	padding: 10px
	background: variables.$greyBlueDark
	color: variables.$greyLightText
	border-top: 1px solid variables.$greyLight

.content
	display: flex
	flex: 1
	width: 100%
	height: 100%
	background: variables.$greyBrown

	.left,.right
		flex: 1
		flex-shrink: 0
		background: variables.$greyBlue

	.left
		border-right: 1px solid variables.$greyLight

	.right
		border-left: 1px solid variables.$greyLight

.default-error
	@include flexCenter()
	padding: 80px 60px

.error
	margin: 5px 0
	color: variables.$pokemonRedDark

.loading
	@include flexCenter($direction: column)
	padding: 20px

	img
		margin: 20px

.main-content
	@include flexCenter($direction: column)
	flex: 3 1
	padding: 40px 0
	width: 100%
	height: 100%

.game
	display: flex
	flex-direction: row
	justify-items: center
	width: 100%

	.field-wrap
		display: flex
		flex-direction: column
		align-items: center
		margin: 0 20px
		text-align: center

.player-panel
	display: flex
	flex-direction: column
	width: 100%
	min-width: 140px
	max-width: 200px
	padding: 12px
	margin: 0 12px
	text-align: center
	color: variables.$greyWhiteText
	border: 2px solid variables.$greyLight
	border-radius: 8px

	&.active
		border: 2px solid variables.$activeColour

	.player-name
		padding-bottom: 6px
		margin-bottom: 6px
		border-bottom: 1px solid variables.$greyLight
		overflow: hidden

		&:hover
			background: variables.$greyLight
			color: variables.$pokemonYellow

			.icon
				fill: variables.$pokemonYellow

	.player-cards
		max-height: 600px
		overflow: auto

		img
			max-height: variables.$mediumScreenImageSize

.pexeso-field
	@include flexCenter($direction: column)

.pexeso
	display: grid
	max-width: 720px
	padding: 12px
	grid-template-columns: 1fr 1fr 1fr 1fr
	gap: 16px

	.psx-square
		@include flexCenter()
		height: variables.$normalScreenImageSize
		width: variables.$normalScreenImageSize

	.pexeso-card
		transition: transform 1.5s ease
		backface-visibility: hidden
		position: absolute
		height: variables.$normalScreenImageSize
		width: variables.$normalScreenImageSize

		&.empty
			background: transparent
			border: 1px solid variables.$greyLight

		img
			width: variables.$normalScreenImageSize
			height: variables.$normalScreenImageSize

	.back
		background: variables.$pokemonYellowDark
		transform: rotateY(180deg)

		&.flipped
			transform: rotateY(0deg)

	.front
		background: variables.$pokemonBlue
		transform: rotateY(0deg)

		&.flipped
			transform: rotateY(180deg)

.game-end-screen
	@include flexCenter()
	position: absolute
	width: 480px
	padding: 12px
	background: variables.$greyBlue
	border: 2px solid variables.$greyLight
	border-radius: 8px
	z-index: 100

// Icons
.icon
	margin-left: 10px

	&.small
		width: 18px
		height: 18px

	&.normal
		width: 24px
		height: 24px

	&.big
		width: 30px
		height: 30px

	&.light
		fill: variables.$greyWhiteText

	&.dark
		fill: variables.$blackAlmost

	&:hover
		fill: variables.$pokemonYellow


.icon-wrapper
	display: inline-flex
	justify-content: center
	align-items: center

// inputs
input[type="text"],
input[type="search"]
	display: inline-block
	box-sizing: border-box
	padding: 10px 12px
	min-height: 40px
	line-height: 20px
	border: none
	border-bottom: 1px variables.$greyWhiteText solid
	background: variables.$greyLight
	color: variables.$greyWhiteText

.clearable-input-wrapper
	@include flexCenter()
	position: relative

	input
		position: relative
		width: 100%
		padding-right: 30px // Buffer for clear icon
		z-index: 10

	.clearable-icon
		@include flexCenter()
		position: absolute
		top: 8px
		right: 0
		z-index: 20

a
	color: variables.$spruce
	text-decoration: inherit

	&:hover
		text-decoration: underline

	&:visited
		color: variables.$pokemonYellowDark

h1
	font-size: 2rem

h2
	font-size: 1.7rem

h3
	font-size: 1.4rem

h4
	font-size: 1.2rem

h5
	font-size: 1.1rem

h6
	font-size: 1rem

.bold
	font-weight: variables.$mediumFontWeight


button
	position: relative // Needed due to the fact that button on end game layer has issues with :hover, :focus states
	border-radius: 4px
	border: 1px solid variables.$greyLightText
	padding: 0.6em 1.2em
	margin: 0.8em
	font-size: 1em
	font-weight: 500
	font-family: inherit
	background-color: variables.$greyBlue
	cursor: pointer
	transition: border-color 0.25s

	&:hover
		background: variables.$greyLight

	&:focus,
	&:focus-visible
		outline: 4px auto variables.$activeColour

	span
		display: flex
		align-items: center

// Tablet devices
@media (max-width: 960px)
	.game
		@include flexCenter($direction: column)

	.player-panel
		min-height: 10vh
		max-width: 60vw
		min-width: 60vw

		.player-cards
			display: flex
			flex-wrap: wrap

			img
				max-height: variables.$smallScreenImageSize

// Tablet devices
@media (max-width: 768px)
	.left, .right
		display: none

	.player-panel
		max-width: 80vw

	.pexeso
		display: grid
		max-width: 100%
		padding: 12px
		grid-template-columns: 1fr 1fr 1fr 1fr
		gap: 16px

		.psx-square
			height: variables.$smallScreenImageSize
			width: variables.$smallScreenImageSize

			.pexeso-card
				height: variables.$smallScreenImageSize
				width: variables.$smallScreenImageSize

			img
				width: variables.$smallScreenImageSize
				height: variables.$smallScreenImageSize

// Phone devices
@media (max-width: 480px)
	.default-error
		flex-direction: column
		padding: 60px 40px
